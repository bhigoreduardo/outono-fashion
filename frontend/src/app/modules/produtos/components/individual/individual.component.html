<!-- HEADER COMPONENT -->
<app-header></app-header>
<!-- / HEADER COMPONENT -->

<!-- SINGLE PRODUCT -->
<article class="single-product container gap-section">
    <div class="breadcrumb">
        <a>Início</a>
        <i class="fa fa-chevron-right"></i>
        <!-- Gênero -->
        <a (click)="goToProdutos(produto.genero.descricao)">
            {{produto.genero.descricao}}</a>
        <i class="fa fa-chevron-right"></i>
        <!-- Categoria -->
        <a (click)="goToProdutos(produto.genero.descricao, produto.categoria.descricao)">
            {{produto.categoria.descricao}}</a>
        <i class="fa fa-chevron-right"></i>
        <!-- Tipo -->
        <a (click)="goToProdutos(produto.genero.descricao, produto.categoria.descricao, produto.tipo.descricao)">
            {{produto.tipo.descricao}}</a>
        <i class="fa fa-chevron-right"></i>
        <!-- Marca -->
        <a
            (click)="goToProdutos(produto.genero.descricao, produto.categoria.descricao, produto.tipo.descricao, produto.marca.descricao)">
            {{produto.marca.descricao}}</a>
    </div>

    <div class="single-product--content">
        <div class="thumb-container">
            <swiper [config]="thumbSlide">
                <ng-template swiperSlide *ngFor="let imagem of produto.imagens">
                    <div (click)="changeImageActive(imagem.nome, imagem.tipo)" class="thumb-wrapper"
                        [ngClass]="{active: isImageActive(imagem.nome, imagem.tipo)}">
                        <img
                            src="/assets/produtos/{{produto.genero.descricao | replace:' ':'-'}}/{{produto.categoria.descricao | replace:' ':'-'}}/{{produto.tipo.descricao | replace:' ':'-'}}/{{imagem.nome | replace:' ':'-'}}.{{imagem.tipo}}" />
                    </div>
                </ng-template>
            </swiper>
        </div>

        <div class="image-container">
            <img class="active" [src]="fullPathImage | replace:' ':'-'" title="{{produto.nome}}" />
        </div>

        <div class="description">
            <div class="product-information">
                <h5 class="brand">{{produto.marca.descricao}}</h5>
                <h4 class="name">{{produto.nome}}</h4>
                
                <div *ngIf="precoSelected == undefined" class="price-box">
                    <span class="price">
                        <small class="currency">À partir de </small>{{price | currency: 'BRL'}}
                    </span>
                    <span class="installment">ou até {{installment}}x de {{price / installment | currency: 'BRL'}} sem juros</span>
                </div>

                <div *ngIf="precoSelected != undefined" class="price-box">
                    <span class="price">{{precoSelected | currency: 'BRL'}}</span>
                    <span class="installment">ou até {{installment}}x de {{precoSelected / installment | currency: 'BRL'}} sem juros</span>
                </div>
            </div>

            <div class="product-choice" (change)="getQuantity()">
                <h6 class="title">Escolha o tamanho</h6>
                <div class="radiobox-container">
                    <app-radiobox *ngFor="let estoque of produto.estoques"
                        (click)="setTamanho(estoque.tamanho.descricao)" title="{{estoque.tamanho.descricao}}"
                        placeholder="{{estoque.tamanho.descricao}}" name="tamanho"
                        value="{{estoque.tamanho.descricao | replace}}" check="''">
                    </app-radiobox>
                </div>

                <h6 class="title">Escolha a cor</h6>
                <div class="radiobox-container">
                    <app-radiobox *ngFor="let color of colors" (click)="setCor(color.descricao)"
                        title="{{color.descricao}}" name="color.descricao" value="{{color.descricao}}" check="''"
                        color="{{color.valor}}">
                    </app-radiobox>
                </div>

                <span *ngIf="stockQuantity" class="quantity">Quantidade estoque: {{stockQuantity}} unid(s)</span>

                <button (click)="addProdutoCarrinho()" type="button"
                    class="button button-warning button-uppercase button-semi button-base">
                    <i class="fa fa-cart-plus"></i>
                    Comprar
                </button>
            </div>

            <div class="button-group">
                <button><i class="fas fa-ruler-combined"></i>Medidas</button>
                <button><i class="fa fa-truck"></i>Frete</button>
            </div>

            <div class="add-information">
                <h6 [ngClass]="{'hide': sideDescription == true}">Sobre o produto<i class="fas fa-minus"
                        (click)="sideDescription=!sideDescription" [ngClass]="{'fa-plus': sideDescription == true}"></i>
                </h6>
                <div class="description-container" [ngClass]="{hide: sideDescription == true}">
                    <p>
                        {{produto.descricao}}
                    </p>
                </div>

                <h6 [ngClass]="{'hide': sideDetail == true}">Mais informações<i class="fas fa-minus"
                        (click)="sideDetail=!sideDetail" [ngClass]="{'fa-plus': sideDetail == true}"></i></h6>
                <div class="detail-container" [ngClass]="{hide: sideDetail == true}">
                    <p>
                        {{produto.detalhe}}
                    </p>
                </div>
            </div>
        </div>
    </div>
</article>
<!-- / SINGLE PRODUCT -->

<!-- COMMENTARY GALLERY -->
<section class="commentary-gallery container gap-section" *ngIf="produto.comentarios.length > 0; else emptyCommentary">
    <swiper [config]="commentaryGallery" #customSwiperCommentary>
        <ng-template swiperSlide>
            <app-commentary date="21 Maio, 2022" author="John Doe" rate="4"
                commentary="Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, rerum. Alias saepe ea, quae molestias sunt enim, molestiae eveniet illum eligendi tempora incidunt reprehenderit cum?">
            </app-commentary>
        </ng-template>
        <ng-template swiperSlide>
            <app-commentary date="21 Maio, 2022" author="John Doe" rate="4"
                commentary="Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, rerum. Alias saepe ea, quae molestias sunt enim, molestiae eveniet illum eligendi tempora incidunt reprehenderit cum?">
            </app-commentary>
        </ng-template>
        <ng-template swiperSlide>
            <app-commentary date="21 Maio, 2022" author="John Doe" rate="4"
                commentary="Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, rerum. Alias saepe ea, quae molestias sunt enim, molestiae eveniet illum eligendi tempora incidunt reprehenderit cum?">
            </app-commentary>
        </ng-template>
        <ng-template swiperSlide>
            <app-commentary date="21 Maio, 2022" author="John Doe" rate="4"
                commentary="Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, rerum. Alias saepe ea, quae molestias sunt enim, molestiae eveniet illum eligendi tempora incidunt reprehenderit cum?">
            </app-commentary>
        </ng-template>
        <ng-template swiperSlide>
            <app-commentary date="21 Maio, 2022" author="John Doe" rate="4"
                commentary="Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, rerum. Alias saepe ea, quae molestias sunt enim, molestiae eveniet illum eligendi tempora incidunt reprehenderit cum?">
            </app-commentary>
        </ng-template>
    </swiper>

    <div class="slide-controls container">
        <button type="button" class="prev-button" (click)="prevSlide(customSwiperCommentary)">
            <i title="Anterior" class="fas fa-chevron-left"></i>
        </button>

        <button type="button" class="next-button" (click)="nextSlide(customSwiperCommentary)">
            <i title="Próximo" class="fas fa-chevron-right"></i>
        </button>
    </div>
</section>
<ng-template #emptyCommentary>
    <section class="empty-commentary container gap-section">
        <div class="client-testimonial">
            <p>Nenhum comentário adicionado, já comprou e gostaria de deixar sua avaliação?</p>
            <span class="login-comment"><i class="fas fa-user"></i><a>Faça o Login</a></span>
        </div>
    </section>
</ng-template>
<!-- / COMMENTARY GALLERY -->

<!-- MOST SALE GENDER -->
<section class="most-sale container gap-section">
    <div class="headline">
        <h6 class="subtitle">Aproveite</h6>
        <h4 class="title">Você também pode gostar</h4>
    </div>

    <swiper [config]="mostSaleSlide" #customSwiperGender>
        <ng-template swiperSlide *ngFor="let produto of produtosGenero">
            <app-card
                image="/assets/produtos/{{produto.genero.descricao | replace:' ':'-'}}/{{produto.categoria.descricao | replace:' ':'-'}}/{{produto.tipo.descricao | replace:' ':'-'}}/{{produto.nome | replace:' ':'-'}}-{{produto.id}}-1.webp"
                name="{{produto.nome}}"
                priceMin="{{produto.estoques | priceproduto:'min'}}"
                nome="{{produto.nome | replace:' ':'-'}}"
                id="{{produto.id}}"
            ></app-card>
        </ng-template>
    </swiper>

    <div class="slide-controls container">
        <button type="button" class="prev-button" (click)="prevSlide(customSwiperGender)">
            <i title="Anterior" class="fas fa-chevron-left"></i>
        </button>

        <button type="button" class="next-button" (click)="nextSlide(customSwiperGender)">
            <i title="Próximo" class="fas fa-chevron-right"></i>
        </button>
    </div>
</section>
<!-- / MOST SALE GENDER -->

<!-- MOST SALE CATEGORY -->
<section class="most-sale container gap-section">
    <div class="headline">
        <h6 class="subtitle">Aproveite</h6>
        <h4 class="title">Você também pode gostar</h4>
    </div>

    <swiper [config]="mostSaleSlide" #customSwiperCategory>
        <ng-template swiperSlide *ngFor="let produto of produtosCategoria">
            <app-card
                image="/assets/produtos/{{produto.genero.descricao | replace:' ':'-'}}/{{produto.categoria.descricao | replace:' ':'-'}}/{{produto.tipo.descricao | replace:' ':'-'}}/{{produto.nome | replace:' ':'-'}}-{{produto.id}}-1.webp"
                name="{{produto.nome}}"
                priceMin="{{produto.estoques | priceproduto:'min'}}"
                nome="{{produto.nome | replace:' ':'-'}}"
                id="{{produto.id}}"
            ></app-card>
        </ng-template>
    </swiper>

    <div class="slide-controls container">
        <button type="button" class="prev-button" (click)="prevSlide(customSwiperCategory)">
            <i title="Anterior" class="fas fa-chevron-left"></i>
        </button>

        <button type="button" class="next-button" (click)="nextSlide(customSwiperCategory)">
            <i title="Próximo" class="fas fa-chevron-right"></i>
        </button>
    </div>
</section>
<!-- / MOST SALE CATEGORY -->

<!-- FOOTER -->
<app-footer></app-footer>
<!-- / FOOTER -->